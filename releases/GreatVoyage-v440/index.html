<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://tronprotocol.github.io/documentation-en/releases/GreatVoyage-v440/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>GreatVoyage-v4.4.0 - Java Tron</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "GreatVoyage-v4.4.0";
        var mkdocs_page_input_path = "releases/GreatVoyage-v440.md";
        var mkdocs_page_url = "/documentation-en/releases/GreatVoyage-v440/";
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Java Tron
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting_started/getting_started_with_javatron/">Getting Started with Java-tron</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Using Java-tron</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../using_javatron/installing_javatron/">Deploying Java-tron</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../using_javatron/backup_restore/">Backup & Restore</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../developers/litefullnode/">Lite Fullnode</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../using_javatron/private_network/">Private Network</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../architecture/event/">Event Plugin</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../architecture/database/">Database Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../using_javatron/connecting_to_tron/">Network Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../using_javatron/metrics/">Node Monitoring</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Tools</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../using_javatron/toolkit/">Database Partition</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../api/http/">HTTP API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../api/rpc/">gRPC API</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Core Protocal</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../introduction/dpos/">DPoS</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../mechanism-algorithm/sr/">Super Representative</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../mechanism-algorithm/account/">Account Model</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../mechanism-algorithm/resource/">Resource Model</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../contracts/contract/">Smart Contract</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../mechanism-algorithm/dex/">Decentralized Exchange</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../mechanism-algorithm/multi-signatures/">Multi-Signature</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">For Java-tron Developers</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../developers/java-tron/">Developer Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../developers/tips/">TIPs Workflow</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../developers/issue-workflow/">Issue Workflow</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../developers/run-in-idea/">Configure the IDE</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../developers/demo/">Development Example</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../developers/gpg/">GPG Key</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">For DAPP developers</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../contracts/compiler/">Dapp Development Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Wallet-cli</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../clients/wallet-cli/">Installation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Releases</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">History</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v452/">GreatVoyage-v4.5.2</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v451/">GreatVoyage-v4.5.1</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v446/">GreatVoyage-v4.4.6</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v445/">GreatVoyage-v4.4.5</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v444/">GreatVoyage-v4.4.4</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v442/">GreatVoyage-v4.4.2</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">GreatVoyage-v4.4.0</a>
    <ul class="current">
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v430/">GreatVoyage-v4.3.0</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v4221/">GreatVoyage-v4.2.2.1</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v422/">GreatVoyage-v4.2.2</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v420/">GreatVoyage-v4.2.0</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v413/">GreatVoyage-v4.1.3</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v412/">GreatVoyage-v4.1.2</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v411/">GreatVoyage-v4.1.1</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GreatVoyage-v400/">GreatVoyage-v4.0.0</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Odyssey-v37/">Odyssey-v3.7</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Odyssey-v365/">Odyssey-v3.6.5</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../">Binary Integrity Check</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../glossary/">Glossary</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Java Tron</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Releases &raquo;</li>
          <li>History &raquo;</li><li>GreatVoyage-v4.4.0</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/tronprotocol/documentation-en/edit/master/docs/releases/GreatVoyage-v440.md"
          class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="greatvoyage-440rousseau">GreatVoyage-4.4.0(Rousseau)<a class="headerlink" href="#greatvoyage-440rousseau" title="Permanent link">&para;</a></h1>
<p>The GreatVoyage-v4.4.0 (Rousseau) version introduces several important updates: the optimization of block broadcasting will let the block be broadcast to the entire network faster; the query performance optimization of <code>dynamic store</code> and the optimization of database parameters will be greatly improved Block processing speed, thereby improving the performance of java-tron; API customization in FullNode makes node configuration more flexible for different application scenarios; TVM will also be better compatible with EVM and adapt to the Ethereum London upgrade, the new JSON-RPC API will bring developers a better development experience, help developers to join the TRON ecosystem more easily, and promote the prosperity of the TRON ecosystem.</p>
<h1 id="core">Core<a class="headerlink" href="#core" title="Permanent link">&para;</a></h1>
<h2 id="1-optimize-the-block-broadcasting">1. Optimize the block broadcasting<a class="headerlink" href="#1-optimize-the-block-broadcasting" title="Permanent link">&para;</a></h2>
<p>In the version before GreatVoyage-v4.4.0 (Rousseau), the logic of block processing is: verify block -&gt; process block -&gt; broadcast block. However, due to the long block processing time, there is a delay in block broadcasting. In order to speed up block broadcasting, In GreatVoyage-v4.4.0 (Rousseau) version, the block processing logic is changed to: verify block -&gt; broadcast block -&gt; process block, so that the block can be quickly broadcast to the entire network.</p>
<p>TIP: https://github.com/tronprotocol/tips/blob/master/tip-289.md 
Source Code:https://github.com/tronprotocol/java-tron/pull/3986  </p>
<h2 id="2-optimize-the-query-performance-of-dynamic-store">2. Optimize the query performance of <code>dynamic store</code><a class="headerlink" href="#2-optimize-the-query-performance-of-dynamic-store" title="Permanent link">&para;</a></h2>
<p>During the block processing, The frequency of visits to <code>dynamic store</code> is very high. The GreatVoyage-v4.4.0(Rousseau) version optimizes the query performance of the  <code>dynamic store</code> by loading all the data of  <code>dynamic store</code>  into the first-level cache, the cache hit rate of the <code>dynamic store</code>  is improved and the block processing speed is also improved.</p>
<p>TIP: https://github.com/tronprotocol/tips/blob/master/tip-290.md
Source Code：https://github.com/tronprotocol/java-tron/pull/3993  </p>
<h2 id="3-optimize-the-transaction-broadcasting-interface">3. Optimize the transaction broadcasting interface<a class="headerlink" href="#3-optimize-the-transaction-broadcasting-interface" title="Permanent link">&para;</a></h2>
<p>The GreatVoyage-v4.4.0 (Rousseau) version optimizes the processing flow of the transaction broadcast interface. The transaction broadcast is changed from asynchronous to synchronous, and the result will be returned after the broadcast is successful, making the return result of the broadcast more accurate.</p>
<p>Source code：https://github.com/tronprotocol/java-tron/pull/4000 </p>
<h2 id="4-optimize-the-parameters-of-the-database">4. Optimize the parameters of the database<a class="headerlink" href="#4-optimize-the-parameters-of-the-database" title="Permanent link">&para;</a></h2>
<p>The GreatVoyage-v4.4.0 (Rousseau) version optimizes the parameters of the database, which improves the read and write performance of the database, thereby improving the efficiency of block processing.</p>
<p>Source Code：https://github.com/tronprotocol/java-tron/pull/4018 
https://github.com/tronprotocol/java-tron/pull/3992 </p>
<h1 id="tvm">TVM<a class="headerlink" href="#tvm" title="Permanent link">&para;</a></h1>
<h2 id="1-provide-compatibility-with-evm">1. Provide compatibility with EVM<a class="headerlink" href="#1-provide-compatibility-with-evm" title="Permanent link">&para;</a></h2>
<p>The GreatVoyage-v4.4.0 (Rousseau) version provides compatibility solution for those instructions that are different from EVM, so that the newly deployed contract supports the following features:
- The <code>GASPRICE</code> instruction returns the unit price of energy.
- The <code>try/catch-statement</code> supports catching all types of TVM exceptions.
- Forbid the system contract “TransferContract” to transfer TRX to the smart contract account.</p>
<p>TIP: https://github.com/tronprotocol/tips/blob/master/tip-272.md 
Source Code：https://github.com/tronprotocol/java-tron/pull/4032 </p>
<p><strong>NOTICE</strong>：
By default, this feature is disabled, and the super representative or super partner will initiate a vote request to enable it in the future.</p>
<h2 id="2-adapt-to-ethereum-london-release">2. Adapt to Ethereum London Release<a class="headerlink" href="#2-adapt-to-ethereum-london-release" title="Permanent link">&para;</a></h2>
<p>In the GreatVoyage-v4.4.0 (Rousseau) version, TVM is also adapted to the Ethereum London upgrade: introduce the <code>BASEFEE</code> opcode; the deployment of new contracts starting with 0xEF is prohibited.</p>
<p>TIP: https://github.com/tronprotocol/tips/blob/master/tip-318.md 
Source Code：https://github.com/tronprotocol/java-tron/pull/4032 </p>
<p><strong>NOTICE</strong>：
By default, this feature is disabled, and the super representative or super partner will initiate a vote request to enable it in the future.</p>
<h2 id="3-in-constant-mode-energy-limit-supports-customization-and-the-default-value-is-increased">3. In constant mode, <code>Energy limit</code> supports customization and the default value is increased<a class="headerlink" href="#3-in-constant-mode-energy-limit-supports-customization-and-the-default-value-is-increased" title="Permanent link">&para;</a></h2>
<p>Before the GreatVoyage-v4.4.0 (Rousseau) version, the energy limit in constant mode was a fixed value(<code>3,000,000</code>). The GreatVoyage-v4.4.0 (Rousseau) version changed it to configurable, and increase the default value to <code>100,000,000</code>. after upgraded to the latest version, <code>Energy limit</code> can be configured in startup parameters(<code>--max-energy-limit-for-constant</code>) or in the configuration file(<code>vm.maxEnergyLimitForConstant</code>). </p>
<p>Source Code：https://github.com/tronprotocol/java-tron/pull/4032 </p>
<h1 id="api">API<a class="headerlink" href="#api" title="Permanent link">&para;</a></h1>
<h2 id="1-support-ethereum-compatible-json-rpc-api">1. Support Ethereum compatible JSON-RPC API<a class="headerlink" href="#1-support-ethereum-compatible-json-rpc-api" title="Permanent link">&para;</a></h2>
<p>Starting from the GreatVoyage-v4.4.0 (Rousseau) version, the FullNode supports JSON-RPC APIs. For details, please refer to: https://developers.tron.network/reference#json-rpc-api </p>
<p>Source Code：https://github.com/tronprotocol/java-tron/pull/4046 </p>
<h2 id="2-fullnode-supports-disabling-apis">2. FullNode supports disabling APIs<a class="headerlink" href="#2-fullnode-supports-disabling-apis" title="Permanent link">&para;</a></h2>
<p>In order to make the FullNode customizable, starting from GreatVoyage-v4.4.0 (Rousseau) version, FullNode supports disabling specific APIs through the configuration file.</p>
<p>Source code：https://github.com/tronprotocol/java-tron/pull/4045 </p>
<h2 id="3-optimize-the-triggerconstantcontract-api">3. Optimize the <code>TriggerConstantContract</code> API<a class="headerlink" href="#3-optimize-the-triggerconstantcontract-api" title="Permanent link">&para;</a></h2>
<p>In GreatVoyage-v4.4.0 (Rousseau), the following optimizations have been introduced to the <code>TriggerConstantContract</code> interface:
-  Execute contract creation when <code>ContractAddress</code> is empty
-  Remove the check of the incoming parameters <code>callvalue</code> and <code>tokenvalue</code>
-  The log list and internal transaction list are added to <code>TransactionExtention</code></p>
<p>Source Code： https://github.com/tronprotocol/java-tron/pull/4032 </p>
<h1 id="changes">Changes<a class="headerlink" href="#changes" title="Permanent link">&para;</a></h1>
<h2 id="1-upgrade-event-plugin-to-support-bttc-data">1. Upgrade event plugin to support <code>BTTC</code> data<a class="headerlink" href="#1-upgrade-event-plugin-to-support-bttc-data" title="Permanent link">&para;</a></h2>
<p>The event plugin has been upgraded in GreatVoyage-v4.4.0 (Rousseau) to support <code>BTTC</code>.</p>
<p>Source code: https://github.com/tronprotocol/java-tron/pull/4067  </p>
<h2 id="2-increase-the-upper-limit-of-the-maxfeelimit-network-parameter">2. Increase the upper limit of the <code>MaxFeeLimit</code> network parameter.<a class="headerlink" href="#2-increase-the-upper-limit-of-the-maxfeelimit-network-parameter" title="Permanent link">&para;</a></h2>
<p>In the version before GreatVoyage-v4.4.0 (Rousseau), the value range of <code>MaxFeeLimit</code> is [0,1e10] sun, in GreatVoyage-v4.4.0 (Rousseau)  the value range of <code>MaxFeeLimit</code> is expanded to [0, 1e17] sun.</p>
<p>Source Code： https://github.com/tronprotocol/java-tron/pull/4032 </p>
<p><strong>NOTICE</strong>：
By default, this feature is disabled, it will be enabled after the London upgrade proposal takes effect.</p>
<h2 id="3-optimize-the-quick-start-script-startsh">3. Optimize the quick start script <code>start.sh</code><a class="headerlink" href="#3-optimize-the-quick-start-script-startsh" title="Permanent link">&para;</a></h2>
<p>The quick start script tool is also upgraded in the GreatVoyage-v4.4.0 (Rousseau) version, please refer to the latest user guide from: https://github.com/tronprotocol/java-tron/blob/release_v4.4.0/shell.md</p>
<hr />
<p><em>The world of reality has its limits; the world of imagination is boundless.</em> </p>
<p align="right"> ---  Rousseau</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../GreatVoyage-v442/" class="btn btn-neutral float-left" title="GreatVoyage-v4.4.2"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../GreatVoyage-v430/" class="btn btn-neutral float-right" title="GreatVoyage-v4.3.0">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/tronprotocol/documentation-en" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../GreatVoyage-v442/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../GreatVoyage-v430/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
